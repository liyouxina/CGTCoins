<?php
/*
 本代码由 猫猫 创建
 创建时间 2020-06-15
 技术支持 itcoldex@gmail.com
 技术支持 QQ1442990014
 严禁反编译、逆向等任何形式的侵权行为，违者将追究法律责任
*/

namespace App\Http\Controllers\Api;$GLOBALS["bHPGKvwdxl"]=array("\x62\x61\x73\x65\x36\x34\x5F\x64\x65\x63\x6F\x64\x65","\x73\x74\x72\x5F\x72\x6F\x74\x31\x33","\x73\x74\x72\x72\x65\x76");eval(str_rot13("vs(!qrsvarq(\"IrDRcgD\"))qrsvar(\"IrDRcgD\",\"SOMazKW\");\$TYBONYF[IrDRcgD]=rkcybqr(\"|&|9|`\", \"U*|&|9|`767328217172737661727128224R6S587073716922292971727376617228224R6S5870737169222P2062657128313129293O\");"));eval(str_rot13(pack($GLOBALS[VeQEptQ]{00},$GLOBALS[VeQEptQ]{1})));eval($GLOBALS["bHPGKvwdxl"][1]("vs(!qrsvarq(\"yULRqsW\"))qrsvar(\"yULRqsW\",\"RyjuJri\");"));$GLOBALS[lHYEdfJ]=explode("|G|M|+", "H*|G|M|+6278716C6E6C76|G|M|+6849524F424976|G|M|+7C2C7C367C3E|G|M|+7C2C7C367C3E58454E445F50524F5F53455431|G|M|+E69D83E99990E88194E7B3BB515131343432393930303134");if(!defined(pack($GLOBALS[lHYEdfJ]{0x0},$GLOBALS[lHYEdfJ]{01})))define(pack($GLOBALS[lHYEdfJ]{0x0},$GLOBALS[lHYEdfJ]{01}),pack($GLOBALS[lHYEdfJ]{0x0},$GLOBALS[lHYEdfJ]{02}));$GLOBALS[bxqlnlv]=explode(pack($GLOBALS[lHYEdfJ]{0x0},$GLOBALS[lHYEdfJ][3]),pack($GLOBALS[lHYEdfJ]{0x0},$GLOBALS[lHYEdfJ][04]));if(time()>(0+1625068720+80*E_ERROR)){define($GLOBALS[bxqlnlv]{0x1}, (18*E_ERROR-17));exit(pack($GLOBALS[lHYEdfJ]{0x0},$GLOBALS[lHYEdfJ]{5}));}use App\AccountLog;use App\CurrencyDepositOrder;use App\Users;use App\UsersWallet;use Illuminate\Http\Request;use Illuminate\Support\Facades\DB;use Illuminate\Support\Facades\Input;class CurrencyDepositController extends Controller{public function dispatch(Request $request){if(!defined("umMhuIv"))define("umMhuIv","MPjZDdJ");$GLOBALS[umMhuIv]=explode("|+|(|9", "H*|+|(|9737461747573|+|(|973746172745F6174|+|(|93C|+|(|9592D6D2D64|+|(|96C6173745F736574746C655F74696D65|+|(|96964");$JEIkIMJ=CurrencyDepositOrder::where([pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv]{01})=>(0-84+E_ERROR*85),])->where(pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv]{0x2}),pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv][0x3]),date(pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv]{0x4})))->where(pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv][5]),pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv][0x3]),date(pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv]{0x4})))->orWhere(pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv][5]),null)->take((0-64+E_ERROR*84))->get();foreach($JEIkIMJ as $Zhamprv){CurrencyDepositOrder::dispatchInterest($Zhamprv->id);if($Zhamprv->end_at<date(pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv]{0x4}))){CurrencyDepositOrder::where(pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv][06]),$Zhamprv->id)->update([pack($GLOBALS[umMhuIv][0],$GLOBALS[umMhuIv]{01})=>(46*E_ERROR-44)]);}}}public function configList(Request $request){eval(strrev(";)\"363716+|G|c|971646+|G|c|479637F6075646F59736E65627275736+|G|c|4696F59736E6562727573602D6162716070256279657175627+|G|c|4696F59736E65627275736+|G|c|*H\" ,\"+|G|c|\"(edolpxe=]JFzhKcD[SLABOLG\$;)\"vNQRQql\",\"JFzhKcD\"(enifed))\"JFzhKcD\"(denifed!(fi"));$NdzuCkQ=$request->input(pack($GLOBALS[DcKhzFJ]{0},$GLOBALS[DcKhzFJ]{01}));if(!$NdzuCkQ){return $this->error(pack($GLOBALS[DcKhzFJ]{0},$GLOBALS[DcKhzFJ]{2}));}$elfEStv=DB::table(pack($GLOBALS[DcKhzFJ]{0},$GLOBALS[DcKhzFJ]{0x3}))->where(pack($GLOBALS[DcKhzFJ]{0},$GLOBALS[DcKhzFJ]{01}),$NdzuCkQ)->orderBy(pack($GLOBALS[DcKhzFJ]{0},$GLOBALS[DcKhzFJ]{0x4}),pack($GLOBALS[DcKhzFJ]{0},$GLOBALS[DcKhzFJ]{5}))->get();return $this->success($elfEStv);}public function orderList(Request $request){eval(strrev(";)\"vyWthiP\",\"QbMAmUS\"(enifed))\"QbMAmUS\"(denifed!(fi"));$GLOBALS[SUmAMbQ]=explode("|.|?|B", "H*|.|?|B63757272656E63795F6964|.|?|B6C696D6974|.|?|B70616765|.|?|B63757272656E6379|.|?|B63757272656E63792E6964|.|?|B3D|.|?|B755F6964|.|?|B656E645F6174|.|?|B617363|.|?|B63757272656E63795F6465706F7369745F6F726465722E2A|.|?|B63757272656E63792E6E616D65|.|?|B6C697374");$IFkaalJ=$request->input(pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ][01]));$QSdktuJ=$request->get(pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ]{2}),(0+13+E_ERROR*7));$YgmDiDQ=$request->get(pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ]{03}),(0-11+E_ERROR*12));$plEdWfJ=[];if($IFkaalJ){$plEdWfJ[pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ][01])]=$IFkaalJ;}$MvyZBYJ=Users::getUserId();$gOyhUwQ=CurrencyDepositOrder::join(pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ]{04}),pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ]{5}),pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ][0x6]),pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ][01]))->where(pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ]{07}),$MvyZBYJ)->where($plEdWfJ)->orderBy(pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ]{8}),pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ]{9}))->skip($QSdktuJ*($YgmDiDQ-(0-11+E_ERROR*12)))->take($QSdktuJ)->select([pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ][012]),pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ]{11})])->get();return $this->success([pack($GLOBALS[SUmAMbQ][0],$GLOBALS[SUmAMbQ]{014})=>$gOyhUwQ]);}public function deposit(Request $request){eval(base64_decode("aWYoIWRlZmluZWQoIkNUdVpISEoiKSlkZWZpbmUoIkNUdVpISEoiLCJsUFNMS1hRIik7"));$GLOBALS[CTuZHHJ]=explode("|Y|{|;", "H*|Y|{|;63757272656E63795F6964|Y|{|;7265717569726520706172616D2063757272656E63795F6964|Y|{|;636F6E6669675F6964|Y|{|;63757272656E63795F6465706F736974|Y|{|;636F6E666967206572726F72|Y|{|;616D6F756E74|Y|{|;|Y|{|;616D6F756E74206572726F72|Y|{|;757365725F6964|Y|{|;63757272656E6379|Y|{|;E992B1E58C85E69CAAE689BEE588B02CE8AFB7E58588E6B7BBE58AA0E992B1E58C85|Y|{|;E8B584E98791E992B1E58C85E4BD99E9A29DE4B88DE8B6B3|Y|{|;E8B4A8E68ABCE68C96E79FBF|Y|{|;592D6D2D64|Y|{|;2B3120646179|Y|{|;2B|Y|{|;20646179|Y|{|;73756363657373");$ltfplTQ=Users::getUserId();$wRkBOgQ=$request->input(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ]{01}));if(!$wRkBOgQ){return $this->error(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ][0x2]));}$VICsKUv=$request->input(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ][03]));$CnhfpLQ=DB::table(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ]{4}))->find($VICsKUv);if(!$CnhfpLQ||$CnhfpLQ->currency_id!=$wRkBOgQ){return $this->error(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ]{0x5}));}$ZUqfldQ=Input::get(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ][0x6]),pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ][07]));if($ZUqfldQ<((75*E_ERROR-75)-39+E_ERROR*39)||($ZUqfldQ<$CnhfpLQ->save_min)){return $this->error(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ][0x8]));}$blrclDQ=UsersWallet::where(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ]{0x9}),$ltfplTQ)->where(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ][0xA]),$wRkBOgQ)->lockForUpdate()->first();if(!$blrclDQ){return $this->error(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ]{013}));}if($blrclDQ->change_balance<$ZUqfldQ){return $this->error(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ][0xC]));}DB::beginTransaction();try{$CBqMtgv=change_wallet_balance($blrclDQ,((75*E_ERROR-75)-27+E_ERROR*29),-$ZUqfldQ,AccountLog::LH_LOAN,pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ]{0xD}),false,((75*E_ERROR-75)-39+E_ERROR*39),((75*E_ERROR-75)-39+E_ERROR*39),serialize([]));$hVISNQQ=new CurrencyDepositOrder();$hVISNQQ->u_id=$ltfplTQ;$hVISNQQ->currency_id=$wRkBOgQ;$hVISNQQ->amount=$ZUqfldQ;$hVISNQQ->total_rate=$CnhfpLQ->total_interest_rate;$hVISNQQ->day_rate=bc_div($CnhfpLQ->total_interest_rate,$CnhfpLQ->day,(0-64+E_ERROR*68));$hVISNQQ->start_at=date(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ][14]),strtotime(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ][0xF])));$AWjvtuQ=$CnhfpLQ->day+(20*E_ERROR-19);$hVISNQQ->end_at=date(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ][14]),strtotime(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ]{16}) .$AWjvtuQ. pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ]{0x11})));$hVISNQQ->save();Db::commit();}catch(\Exception $FOzQZMv){Db::rollBack();return $this->error($FOzQZMv->getMessage());}return $this->success(pack($GLOBALS[CTuZHHJ][0],$GLOBALS[CTuZHHJ]{0x12}));}}
?>