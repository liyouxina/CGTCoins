(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-assets-mention"],{"1fd3":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{class:{light:"light"==e.theme}},[n("v-uni-view",{staticClass:"ptb20 bgPart plr20"},[n("v-uni-view",{staticClass:"ft18"},[e._v(e._s(e.currencyName||"--")+" "+e._s(e.$t("assets.mention")))]),n("v-uni-view",{staticClass:"mt10"},[e._v(e._s(e.$t("trade.use"))+" "+e._s(e.balance)+" "+e._s(e.currencyName||"--"))])],1),e.chargeType.length>0?n("v-uni-view",{staticClass:"mt10 plr20"},[n("v-uni-view",{},[e._v(e._s(e.$t("bind.liantype")))]),n("v-uni-view",{staticClass:"flex mt10"},e._l(e.chargeType,(function(t,a){return n("v-uni-view",{key:a,staticClass:"mr10 ptb5 plr10 bd_input radius4",class:e.name==t.name?"active":"",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.selectCharge(t)}}},[e._v(e._s(t.type))])})),1)],1):e._e(),n("v-uni-view",{staticClass:"plr20"},[n("v-uni-view",{staticClass:"mb20 mt20"},[n("v-uni-view",{},[e._v(e._s(e.$t("assets.mentionaddr")))]),n("v-uni-input",{staticClass:"bdb1f h40 w100 ",attrs:{type:"text",placeholder:e.$t("bind.p_addr")},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),n("v-uni-view",{staticClass:"mb20"},[n("v-uni-view",{},[e._v(e._s(e.$t("trade.num")))]),n("v-uni-view",{staticClass:"flex alcenter between bdb1f"},[n("v-uni-input",{staticClass:" h40 flex1",attrs:{type:"number",placeholder:e.$t("assets.minnum")+(e.coinInfo.min_number||"0.00")},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.numberChange.apply(void 0,arguments)}},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}}),n("v-uni-view",{staticClass:"flex alcenter"},[n("v-uni-text",{staticClass:"blue ft14 pr10 bdr_white50"},[e._v(e._s(e.currencyName||"--"))]),n("v-uni-view",{staticClass:"pl10",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.all.apply(void 0,arguments)}}},[e._v(e._s(e.$t("trade.all")))])],1)],1)],1),e.showMemo?n("v-uni-view",{staticClass:"mb20"},[n("v-uni-view",{},[e._v("memo")]),n("v-uni-input",{staticClass:"bdb1f h40 w100",attrs:{type:"text",placeholder:"请输入memo"},model:{value:e.memoText,callback:function(t){e.memoText=t},expression:"memoText"}})],1):e._e(),n("v-uni-view",{staticClass:"mb20"},[n("v-uni-view",{},[e._v(e._s(e.$t("login.s_dealpwd")))]),n("v-uni-input",{staticClass:"bdb1f h40 w100",attrs:{type:"text",password:"",placeholder:e.$t("login.e_pdeal")},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-uni-view",{staticClass:"mb20 bdb1f ptb10 flex alcenter between"},[n("v-uni-view",{},[e._v(e._s(e.$t("assets.recivenum")))]),n("v-uni-view",{},[e._v(e._s(e.reciveNumber)+" "+e._s(e.currencyName||"--"))])],1),n("v-uni-view",{staticClass:"mb20"},[e._v(e._s(e.$t("trade.fee"))+"："+e._s(e.coinInfo.rate||"--")+e._s(e.currencyName||"--"))]),n("v-uni-view",{staticClass:"mt40 bgBlue radius4 ptb10 white ft14 tc mb10",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.mention.apply(void 0,arguments)}}},[e._v(e._s(e.$t("assets.mention")))])],1)],1)},i=[]},"43dd":function(e,t,n){"use strict";var a=n("c37b"),s=n.n(a);s.a},"4dde":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".active[data-v-5db5824a]{color:#007aff;border-color:#007aff}",""]),e.exports=t},"4f53":function(e,t,n){"use strict";n.r(t);var a=n("cca7"),s=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=s.a},"8dee":function(e,t,n){"use strict";n.r(t);var a=n("1fd3"),s=n("4f53");for(var i in s)"default"!==i&&function(e){n.d(t,e,(function(){return s[e]}))}(i);n("43dd");var r,c=n("f0c5"),o=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"5db5824a",null,!1,a["a"],r);t["default"]=o.exports},c37b:function(e,t,n){var a=n("4dde");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var s=n("4f06").default;s("62a42a9c",a,!0,{sourceMap:!1,shadowMode:!1})},cca7:function(e,t,n){"use strict";var a=n("4ea4");n("4160"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n("5530")),i=n("2f62"),r={data:function(){return{password:"",currency:"",coinInfo:{},address:"",name:"",number:"",reciveNumber:"0.0",chargeType:[],contractAddress:"",userId:"",currencyName:"",currencyType:"",balance:"",labelText:"",walletData:[],showMemo:!1,memoText:""}},onLoad:function(e){uni.setNavigationBarTitle({title:this.$t("assets").mention}),this.currency=e.currency,this.name=e.name,this.getCoinInfo()},computed:(0,s.default)({},(0,i.mapState)(["theme"])),onPullDownRefresh:function(){},onShow:function(){this.$utils.setThemeTop(this.theme)},methods:{getCoinInfo:function(){var e=this;this.$utils.initDataToken({url:"wallet/get_info",type:"POST",data:{currency:this.currency}},(function(t){if(uni.stopPullDownRefresh(),e.currencyName=t.name,e.balance=t.change_balance,2==t.make_wallet?e.showMemo=!0:e.showMemo=!1,1==t.multi_protocol){e.chargeType=t.type_data,e.contractAddress=t.type_data[0].contract_address,e.name=t.type_data[0].name,e.coinInfo=t.type_data[0],e.currencyType=t.type_data[0].type;t.type_data[0].id}else e.name=t.name,e.coinInfo=t;e.getUserInfo()}))},getUserInfo:function(){var e=this;this.$utils.initDataToken({url:"user/info"},(function(t){e.userId=t.id}))},getAddress:function(e){var t=this;this.$utils.getAddressOnline({url:"walletMiddle/GetDrawAddress",data:{user_id:e,coin_name:this.name,contract_address:this.coinInfo.contract_address}},(function(e){uni.stopPullDownRefresh(),console.log(e),0==e.code?t.address=e.data.address:t.$utils.showLayer(e.errorinfo)}))},all:function(){this.number=this.balance,this.reciveNumber=this.balance*(1-this.coinInfo.rate/100)},numberChange:function(e){this.reciveNumber=e.target.value*(1-this.coinInfo.rate/100)},selectCharge:function(e){var t=this;t.contractAddress=e.contract_address,t.name=e.name,t.coinInfo=e,t.currencyType=e.type,t.address="",t.memoText="";var n=e.id;t.walletData.length>0&&t.walletData.forEach((function(e){n==e.currency&&(t.labelText=e.label)}))},copyLabel:function(){},mention:function(){var e=this;return this.address?this.number?this.password?this.password.length<6?this.$utils.showLayer(this.$t("login.e_pdealerr")):void this.$utils.initDataToken({url:"wallet/out",type:"POST",data:{currency:this.currency,number:this.number,rate:this.coinInfo.rate,address:this.address,pay_password:this.password,type:this.currencyType,memo:this.memoText}},(function(t,n){console.log(t),e.$utils.showLayer(t),setTimeout((function(){window.location.reload()}),1500)})):this.$utils.showLayer(this.$t("login.e_pdeal")):this.$utils.showLayer(this.$t("assets.p_minnum")):this.$utils.showLayer(this.$t("assets.p_addr"))}}};t.default=r}}]);