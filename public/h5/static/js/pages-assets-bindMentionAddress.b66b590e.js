(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-assets-bindMentionAddress"],{"55dd":function(e,t,n){"use strict";n.r(t);var i=n("71cf"),s=n("a4bc");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("989a");var c,r=n("f0c5"),d=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"834dacfc",null,!1,i["a"],c);t["default"]=d.exports},"71cf":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"pt20 plr20",class:{light:"light"==e.theme}},[e.coinList[e.index]?n("v-uni-view",{staticClass:"flex alcenter mb20"},[n("v-uni-picker",{staticClass:"bd_input ptb10 plr10 tc flex1 radius4",attrs:{value:e.index,range:e.coinList,"range-key":"currency_name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.pickChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"flex between"},[n("v-uni-text",[e._v(e._s(e.$t("bind.cur_select")))]),e.coinList[e.index]?n("v-uni-text",[e._v(e._s(e.coinList[e.index].currency_name))]):e._e()],1)],1)],1):e._e(),e.coinType.length>0?n("v-uni-view",{staticClass:"mt10"},[n("v-uni-view",{},[e._v(e._s(e.$t("bind.liantype")))]),n("v-uni-view",{staticClass:"flex mt10"},e._l(e.coinType,(function(t,i){return n("v-uni-view",{key:i,staticClass:"mr10 ptb5 plr10 bd_input radius4",class:e.name==t.type?"active":"",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.selectCharge(t)}}},[e._v(e._s(t.type))])})),1)],1):e._e(),n("v-uni-view",{staticClass:"flex alcenter mb20"},[n("v-uni-text",[e._v(e._s(e.$t("bind.addr"))+"：")]),n("v-uni-input",{staticClass:"flex1 plr15 h40 bdb1f",attrs:{type:"text",value:"",placeholder:e.$t("bind.p_addr")},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),n("v-uni-view",{staticClass:"flex alcenter"},[n("v-uni-text",[e._v(e._s(e.$t("bind.code"))+" ：")]),n("v-uni-view",{staticClass:"bdb1f flex alcenter flex1"},[n("v-uni-input",{staticClass:"flex1 plr15 h40 ",attrs:{type:"text",value:"",placeholder:e.$t("login.p_vcode")},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),n("v-uni-view",{staticClass:"ml10 plr10 white bgBlue ptb5 radius4",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}},[e.hasSend?n("v-uni-text",[e._v(e._s(e.second)+"s")]):n("v-uni-text",[e._v(e._s(e.$t("login.r_send")))])],1)],1)],1),n("v-uni-view",{staticClass:"mt40 bgBlue radius4 ptb10 white ft14 tc mb10",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.bindAddress.apply(void 0,arguments)}}},[e._v(e._s(e.$t("bind.bind")))])],1)},a=[]},"89ff":function(e,t,n){var i=n("8d65");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=n("4f06").default;s("591c707b",i,!0,{sourceMap:!1,shadowMode:!1})},"8d65":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,".active[data-v-834dacfc]{color:#007aff;border-color:#007aff}",""]),e.exports=t},"94cb":function(e,t,n){"use strict";var i=n("4ea4");n("4160"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("5530")),a=n("2f62"),c={data:function(){return{index:0,coinList:[],uerid:"",hasSend:!1,timeInterval:"",address:"",code:"",second:60,name:"",coinType:[],currencyName:"",contractAddress:"",multiProtocol:0}},onLoad:function(){this.getCoinList(),uni.setNavigationBarTitle({title:this.$t("bind").bindAddr})},computed:(0,s.default)({},(0,a.mapState)(["theme"])),onShow:function(){this.$utils.setThemeTop(this.theme)},methods:{pickChange:function(e){var t=this,n=t.coinList;t.index=e.target.value,t.address="",t.code="",t.hasSend=!1,t.second=60,n.forEach((function(e,n){e.currency==t.coinList[t.index].currency&&1==e.multi_protocol&&(t.multiProtocol=1)})),1==t.multiProtocol?t.getType(t.coinList[t.index].currency):(t.name=t.coinList[t.index].currency_name,t.currencyName=t.coinList[t.index].currency_name,t.contractAddress=t.coinList[t.index].contract_address,t.getAddress())},getCoinList:function(){var e=this;e.$utils.initDataToken({url:"wallet/list",type:"POST"},(function(t){e.coinList=t.change_wallet.balance,1==t.change_wallet.balance[0].multi_protocol?(e.getType(t.change_wallet.balance[0].currency),e.getUserInfo()):(e.name=t.change_wallet.balance[0].type,e.currencyName=t.change_wallet.balance[0].currency_name,e.contractAddress=t.change_wallet.balance[0].contract_address,e.getUserInfo())}))},getUserInfo:function(){var e=this;this.$utils.initDataToken({url:"user/info"},(function(t){e.uerid=t.id,e.getAddress()}))},getType:function(e){var t=this;t.coinType=[],this.$utils.initDataToken({url:"wallet/get_info",type:"POST",data:{currency:e}},(function(e){console.log(e),t.coinType=e.type_data,t.name=e.type_data[0].type,t.currencyName=e.type_data[0].name,t.contractAddress=e.type_data[0].contract_address,t.getAddress()}))},selectCharge:function(e){var t=this;t.code="",t.hasSend=!1,t.second=60,t.contractAddress=e.contract_address,t.name=e.type,t.currencyType=e.type,t.currencyName=e.name,t.contractAddress=e.contract_address,t.getAddress()},getAddress:function(){var e=this;this.address="",this.$utils.getAddressOnline({url:"walletMiddle/GetDrawAddress",data:{user_id:this.uerid,coin_name:this.currencyName,contract_address:this.contractAddress}},(function(t){console.log(t),0==t.code&&(e.address=t.data.address)}))},getCode:function(){var e=this;this.timeInterval||this.$utils.getAddressOnline({url:"walletMiddle/SendVerificationcode",data:{user_id:this.uerid}},(function(t){console.log(t),0==t.code?(e.$utils.showLayer(e.$t("bind.sendSuccess")),e.hasSend=!0,e.timeInterval=setInterval((function(){e.second>=1?e.second--:(e.hasSend=!1,clearInterval(e.timeInterval))}),1e3)):e.$utils.showLayer(t.errorinfo)}))},bindAddress:function(){var e=this;if(!this.address)return this.$utils.showLayer(this.$t("bind.p_addr"));if(!this.code)return this.$utils.showLayer(this.$t("login.p_vcode"));var t={user_id:this.uerid,address:this.address,coin_name:this.currencyName,contract_address:this.contractAddress,verificationcode:this.code,t:Date.parse(new Date)/1e3},n=JSON.stringify(t);console.log(n),console.log(this.$MD5(n));var i=this.$MD5(n+"abcd4321");console.log(i),this.$utils.getAddressOnline({url:"walletMiddle/BindDrawAddress",data:{data:n,sign:i},type:"POST"},(function(t){console.log(t),0==t.code?(e.$utils.showLayer(e.$t("bind.bindOk")),e.code=""):e.$utils.showLayer(t.errorinfo)}))}}};t.default=c},"989a":function(e,t,n){"use strict";var i=n("89ff"),s=n.n(i);s.a},a4bc:function(e,t,n){"use strict";n.r(t);var i=n("94cb"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a}}]);